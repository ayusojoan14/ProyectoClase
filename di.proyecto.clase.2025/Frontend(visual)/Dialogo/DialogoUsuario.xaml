<mah:MetroWindow x:Class="di.proyecto.clase._2025.Frontend_visual_.Dialogo.DialogoUsuario"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:di.proyecto.clase._2025.Frontend_visual_.Dialogo"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:mat="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Height="640"
        Width="600"
        d:DesignHeight="640" d:DesignWidth="600"
        x:Name="diagModeloArticulo"
        Title="DialogoUsuario" >
    <Grid>

        <!-- FILAS PRINCIPALES -->
        <Grid.RowDefinitions>
            <RowDefinition Height="100"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- CABECERA -->
        <Grid Grid.Row="0">
            <Rectangle Fill="#454545"/>
            <TextBlock Text="INSERTAR USUARIO"
                       FontSize="30"
                       Foreground="White"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Center"/>
        </Grid>

        <!-- AVISO -->
        <TextBlock Grid.Row="1"
                   Text="Los campos con asterisco son obligatorios *"
                   Margin="20,10,0,0"
                   FontSize="14"
                   FontWeight="Bold"/>

        <!-- DATOS DEL USUARIO -->
        <Grid Grid.Row="1" Margin="20,40,20,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TextBlock Text="DATOS DEL USUARIO"
               FontSize="26"
               Foreground="Red"/>

            <Separator Grid.Row="1" Margin="0,5"/>

            <!-- USERNAME (2 COLUMNAS) -->
            <TextBox Grid.Row="2"
             Grid.ColumnSpan="2"
             Margin="0,10,0,0"
             mat:HintAssist.Hint="Username *"
                     FontWeight="Bold"
             Text="{Binding usuario.Username}"/>

            <!-- NOMBRE | CONTRASEÑA -->
            <Grid Grid.Row="3" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <TextBox Grid.Column="0"
                 Margin="0,0,10,0"
                 mat:HintAssist.Hint="Nombre"
                 Text="{Binding usuario.Nombre}"/>

                <PasswordBox Grid.Column="1"
                     Margin="10,0,0,0"
                             FontWeight="Bold"
                     mat:HintAssist.Hint="Password *"
                     x:Name="txtPassword"/>
            </Grid>

            <!-- APELLIDOS -->
            <Grid Grid.Row="4" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <TextBox Grid.Column="0"
                 Margin="0,0,10,0"
                 mat:HintAssist.Hint="Primer apellido"
                 Text="{Binding usuario.Apellido1}"/>

                <TextBox Grid.Column="1"
                 Margin="10,0,0,0"
                 mat:HintAssist.Hint="Segundo apellido"
                 Text="{Binding usuario.Apellido2}"/>
            </Grid>

            <!-- TIPO | ROL -->
            <Grid Grid.Row="5" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <ComboBox Grid.Column="0"
                  Margin="0,0,10,0"
                          FontWeight="Bold"
                  ItemsSource="{Binding listaTiposUsuarios}"
                  SelectedItem="{Binding usuario.TipoNavigation, ValidatesOnDataErrors=True, NotifyOnValidationError=True, UpdateSourceTrigger=PropertyChanged}"
                  DisplayMemberPath="Nombre"
                  Style="{StaticResource MaterialDesignComboBox}"
                  mat:HintAssist.Hint="Tipo *"/>

                <ComboBox Grid.Column="1"
                  Margin="10,0,0,0"
                  ItemsSource="{Binding listaRoles}"
                  SelectedItem="{Binding usuario.RolNavigation}"
                  DisplayMemberPath="Nombre"
                  Style="{StaticResource MaterialDesignComboBox}"
                          FontWeight="Bold"
                  mat:HintAssist.Hint="Rol *"/>
            </Grid>

            <!-- DEPARTAMENTO (2 COLUMNAS) -->
            <ComboBox Grid.Row="6"
              Grid.ColumnSpan="2"
              Margin="0,10,0,0"
              ItemsSource="{Binding listaDepartamentos}"
              SelectedItem="{Binding usuario.DepartamentoNavigation}"
              DisplayMemberPath="Nombre"
              Style="{StaticResource MaterialDesignComboBox}"
              mat:HintAssist.Hint="Departamento"/>
        </Grid>


        <!-- CONTACTO -->
        <StackPanel Grid.Row="2" Margin="20,20,20,0">
            <TextBlock Text="CONTACTO"
                       FontSize="26"
                       Foreground="Red"/>
            <Separator Margin="0,5"/>
            <TextBox mat:HintAssist.Hint="Email"
                     Text="{Binding usuario.Email}"/>
            <TextBox mat:HintAssist.Hint="Teléfono"
                     Text="{Binding usuario.Telefono}"/>
        </StackPanel>

        <!-- BOTONES -->
        <StackPanel Grid.Row="4"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,20,20,20">
            <Button Content="Cancelar"
                    Width="100"
                    Height="35"
                    Margin="0,0,10,0"
                    Background="Red"
                    Foreground="White"
                    BorderBrush="Red"
                    Click="btnCancelarUsuario_Click"
                    Style="{StaticResource MaterialDesignFlatButton}"/>

            <Button Content="Guardar"
                    Width="100"
                    Height="35"
                    Foreground="Red"
                    BorderBrush="Red"
                    Click="btnGuardarUsuario_Click"
                    Style="{StaticResource MaterialDesignFlatButton}"/>
        </StackPanel>

    </Grid>

</mah:MetroWindow> 
